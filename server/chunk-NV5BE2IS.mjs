import './polyfills.server.mjs';
import{a as O,b as P,d as W,f as B,g as D,h as G}from"./chunk-ODE4YMOM.mjs";import{a as $,b as j}from"./chunk-TRN6LL4U.mjs";import"./chunk-GZECC54Q.mjs";import{a as L,d as J,e as U,g as z,h as H,j as q,k as K,l as Q,m as X,n as Y,q as Z,r as tt,s as et}from"./chunk-TGJIODN4.mjs";import{d as R}from"./chunk-ONT52P6F.mjs";import"./chunk-5ULC4MF5.mjs";import"./chunk-VXKZXXVR.mjs";import{o as N,s as k}from"./chunk-6XWMCCPY.mjs";import{$b as h,Cb as u,Eb as y,Fb as w,Gb as I,Hb as r,Ib as e,Jb as E,Kb as C,Mb as p,Nb as d,Yb as a,Za as c,Zb as V,_b as g,ac as b,bc as v,cb as S,ea as s,fa as _,jb as F,ob as x,xb as M,ya as A}from"./chunk-WYIAL2QE.mjs";import{a as T}from"./chunk-S6KH3LOX.mjs";function it(i,o){if(i&1&&(r(0,"mat-card",1)(1,"mat-card-header")(2,"div",5)(3,"mat-icon"),a(4,"fitness_center"),e()(),r(5,"mat-card-title"),a(6),e(),r(7,"mat-card-subtitle"),a(8,"Panel de Control PowerGym"),e()()()),i&2){let t=d();c(6),g("Bienvenido, ",t.adminName,"")}}function ot(i,o){if(i&1){let t=C();r(0,"div",2)(1,"button",6),p("click",function(){s(t);let n=d();return _(n.logout())}),a(2,"Cerrar sesi\xF3n"),e()()}}function rt(i,o){if(i&1){let t=C();r(0,"div")(1,"p")(2,"strong"),a(3,"Nombre:"),e(),a(4),e(),r(5,"p")(6,"strong"),a(7,"G\xE9nero:"),e(),a(8),e(),r(9,"p")(10,"strong"),a(11,"Plan:"),e(),a(12),e(),r(13,"p")(14,"strong"),a(15,"Fecha:"),e(),a(16),e(),r(17,"button",8),p("click",function(){s(t);let n=d().$index,m=d(2);return _(m.editarRegistroTemplate(n))}),a(18,"Editar"),e(),r(19,"button",6),p("click",function(){s(t);let n=d().$index,m=d(2);return _(m.eliminarRegistroTemplate(n))}),a(20,"Eliminar"),e()()}if(i&2){let t=d().$implicit;c(4),g(" ",t.data.nombre,""),c(4),g(" ",t.data.genero,""),c(4),g(" ",t.data.plan,""),c(4),g(" ",t.data.fecha,"")}}function at(i,o){if(i&1){let t=C();r(0,"div")(1,"input",9),v("ngModelChange",function(n){s(t);let m=d(3);return b(m.registroEditando.nombre,n)||(m.registroEditando.nombre=n),_(n)}),e(),r(2,"input",10),v("ngModelChange",function(n){s(t);let m=d(3);return b(m.registroEditando.genero,n)||(m.registroEditando.genero=n),_(n)}),e(),r(3,"input",11),v("ngModelChange",function(n){s(t);let m=d(3);return b(m.registroEditando.plan,n)||(m.registroEditando.plan=n),_(n)}),e(),r(4,"input",12),v("ngModelChange",function(n){s(t);let m=d(3);return b(m.registroEditando.fecha,n)||(m.registroEditando.fecha=n),_(n)}),e(),r(5,"button",13),p("click",function(){s(t);let n=d(3);return _(n.guardarEdicionTemplate())}),a(6,"Guardar"),e(),r(7,"button",14),p("click",function(){s(t);let n=d(3);return _(n.cancelarEdicionTemplate())}),a(8,"Cancelar"),e()()}if(i&2){let t=d(3);c(),h("ngModel",t.registroEditando.nombre),c(),h("ngModel",t.registroEditando.genero),c(),h("ngModel",t.registroEditando.plan),c(),h("ngModel",t.registroEditando.fecha)}}function lt(i,o){if(i&1&&(r(0,"div",7),x(1,rt,21,4,"div")(2,at,9,4,"div"),e()),i&2){let t=o.$index,l=d(2);c(),u(l.registroEditandoIndex!==t?1:-1),c(),u(l.registroEditandoIndex===t?2:-1)}}function mt(i,o){if(i&1&&(r(0,"div"),w(1,lt,3,2,"div",7,y),e()),i&2){let t=d();c(),I(t.registrosTemplate)}}function dt(i,o){i&1&&(r(0,"p",4),a(1,"No hay datos por template."),e())}function ct(i,o){if(i&1){let t=C();r(0,"div")(1,"p")(2,"strong"),a(3,"Nombre:"),e(),a(4),e(),r(5,"p")(6,"strong"),a(7,"Email:"),e(),a(8),e(),r(9,"p")(10,"strong"),a(11,"Asunto:"),e(),a(12),e(),r(13,"p")(14,"strong"),a(15,"Comentario:"),e(),a(16),e(),r(17,"button",8),p("click",function(){s(t);let n=d().$index,m=d(2);return _(m.editarRegistroReactivo(n))}),a(18,"Editar"),e(),r(19,"button",6),p("click",function(){s(t);let n=d().$index,m=d(2);return _(m.eliminarRegistroReactivo(n))}),a(20,"Eliminar"),e()()}if(i&2){let t=d().$implicit;c(4),g(" ",t.data.nombre,""),c(4),g(" ",t.data.email,""),c(4),g(" ",t.data.asunto,""),c(4),g(" ",t.data.comentario,"")}}function st(i,o){if(i&1&&(r(0,"option",20),a(1),e()),i&2){let t=o.$implicit;M("value",t),c(),V(t)}}function _t(i,o){if(i&1){let t=C();r(0,"form",16),p("ngSubmit",function(){s(t);let n=d(3);return _(n.guardarEdicionReactivo())}),E(1,"input",17)(2,"input",18),r(3,"select",19),w(4,st,2,2,"option",20,y),e(),E(6,"textarea",21),r(7,"button",22),a(8,"Guardar"),e(),r(9,"button",23),p("click",function(){s(t);let n=d(3);return _(n.cancelarEdicionReactivo())}),a(10,"Cancelar"),e()()}if(i&2){let t=d(3);M("formGroup",t.formComentario),c(4),I(t.asuntos)}}function pt(i,o){if(i&1&&(r(0,"div",7),x(1,ct,21,4,"div")(2,_t,11,1,"form",15),e()),i&2){let t=o.$index,l=d(2);c(),u(l.comentarioEditandoIndex!==t?1:-1),c(),u(l.comentarioEditandoIndex===t?2:-1)}}function gt(i,o){if(i&1&&(r(0,"div"),w(1,pt,3,2,"div",7,y),e()),i&2){let t=d();c(),I(t.registrosReactivo)}}function ut(i,o){i&1&&(r(0,"p",4),a(1,"No hay datos reactivos."),e())}var nt=class i{constructor(o,t,l){this.platformId=o;this.fb=t;this.router=l;this.formComentario=this.fb.group({nombre:[""],email:[""],asunto:[""],comentario:[""]})}adminName="";registrosTemplate=[];registroEditandoIndex=null;registroEditando={nombre:"",genero:"",plan:"",fecha:""};registrosReactivo=[];comentarioEditandoIndex=null;formComentario;asuntos=["Sugerencia","Problema t\xE9cnico","Reclamaci\xF3n","Otro"];ngOnInit(){if(k(this.platformId)){let o=JSON.parse(localStorage.getItem("currentAdmin")||"{}");this.adminName=o?.nombre||"Sin sesi\xF3n",this.cargarDatos()}}cargarDatos(){if(!k(this.platformId))return;let o=[],t=localStorage.length;for(let n=0;n<localStorage.length;n++){let m=localStorage.key(n);if(m?.startsWith("registroUsuario")){let f=localStorage.getItem(m);f&&o.push({key:m,data:JSON.parse(f)})}}this.registrosTemplate=o;let l=[];for(let n=0;n<localStorage.length;n++){let m=localStorage.key(n);if(m?.startsWith("comentario")){let f=localStorage.getItem(m);f&&l.push({key:m,data:JSON.parse(f)})}}this.registrosReactivo=l}eliminarRegistroTemplate(o){let t=this.registrosTemplate[o].key;localStorage.removeItem(t),this.cargarDatos()}editarRegistroTemplate(o){this.registroEditandoIndex=o,this.registroEditando=T({},this.registrosTemplate[o].data)}guardarEdicionTemplate(){if(this.registroEditandoIndex!==null){let o=this.registrosTemplate[this.registroEditandoIndex].key;localStorage.setItem(o,JSON.stringify(this.registroEditando)),this.registroEditandoIndex=null,this.registroEditando={nombre:"",genero:"",plan:"",fecha:""},this.cargarDatos()}}cancelarEdicionTemplate(){this.registroEditandoIndex=null}eliminarRegistroReactivo(o){let t=this.registrosReactivo[o].key;localStorage.removeItem(t),this.cargarDatos()}editarRegistroReactivo(o){this.comentarioEditandoIndex=o,this.formComentario.setValue(T({},this.registrosReactivo[o].data))}guardarEdicionReactivo(){if(this.comentarioEditandoIndex!==null){let o=this.registrosReactivo[this.comentarioEditandoIndex].key;localStorage.setItem(o,JSON.stringify(this.formComentario.value)),this.comentarioEditandoIndex=null,this.formComentario.reset(),this.cargarDatos()}}cancelarEdicionReactivo(){this.comentarioEditandoIndex=null}logout(){localStorage.removeItem("currentAdmin"),this.adminName="",this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||i)(S(A),S(Z),S(R))};static \u0275cmp=F({type:i,selectors:[["app-admin"]],decls:13,vars:4,consts:[[1,"container","my-4"],[1,"welcome-card","mb-3"],[1,"d-flex","justify-content-end","mb-3"],[1,"text-primary"],[1,"text-muted"],["mat-card-avatar",""],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"card","p-3","mb-2","shadow-sm"],[1,"btn","btn-primary","btn-sm","me-2",3,"click"],["placeholder","Nombre",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["placeholder","G\xE9nero",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["placeholder","Plan",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["type","date",1,"form-control","mb-2",3,"ngModelChange","ngModel"],[1,"btn","btn-success","btn-sm","me-2",3,"click"],[1,"btn","btn-secondary","btn-sm",3,"click"],[3,"formGroup"],[3,"ngSubmit","formGroup"],["formControlName","nombre","placeholder","Nombre",1,"form-control","mb-2"],["formControlName","email","placeholder","Email",1,"form-control","mb-2"],["formControlName","asunto",1,"form-select","mb-2"],[3,"value"],["formControlName","comentario","rows","3","placeholder","Comentario",1,"form-control","mb-2"],["type","submit",1,"btn","btn-success","btn-sm","me-2"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"]],template:function(t,l){t&1&&(r(0,"div",0),x(1,it,9,1,"mat-card",1)(2,ot,3,0,"div",2),E(3,"hr"),r(4,"h5",3),a(5,"Registros de Usuarios (Formulario Template)"),e(),x(6,mt,3,0,"div")(7,dt,2,0,"p",4),E(8,"hr"),r(9,"h5",3),a(10,"Comentarios de Usuarios (Formulario Reactivo)"),e(),x(11,gt,3,0,"div")(12,ut,2,0,"p",4),e()),t&2&&(c(),u(l.adminName?1:-1),c(),u(l.adminName?2:-1),c(4),u(l.registrosTemplate.length?6:7),c(5),u(l.registrosReactivo.length?11:12))},dependencies:[N,tt,H,X,Y,L,Q,J,U,z,et,q,K,G,O,D,B,W,P,j,$],styles:[".main-content[_ngcontent-%COMP%]{min-height:calc(100vh - 128px);padding:20px;background:#f5f5f5}.content-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.welcome-card[_ngcontent-%COMP%]{margin-bottom:20px;background:linear-gradient(45deg,#3f51b5,#2196f3);color:#fff}.welcome-card[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}"]})};export{nt as AdminComponent};
